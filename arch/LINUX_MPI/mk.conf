# Compiler
ARCH_CXX = mpicxx
ARCH_CC  = mpicc
ARCH_RUN = mpirun

PARMETIS_INC_DIR= $(PARMETIS_HOME)/include
PARMETIS_LIB_DIR= $(PARMETIS_HOME)/build/Linux-x86_64/libparmetis
METIS_INC_DIR= $(METIS_HOME)/include
METIS_LIB_DIR= $(METIS_HOME)/build/Linux-x86_64/libmetis

# Warning- and optimization level
WFLAGS	      = -Wall -W -pedantic -fopenmp
#OPTFLAGS      = -O3 -funroll-loops -fomit-frame-pointer -ffast-math
OPTFLAGS      = -g
INCFLAGS      = -I$(PARMETIS_INC_DIR) -I$(METIS_INC_DIR) -I$(ZOLTAN_HOME)/src/include -I$(SCOTCH_HOME)/include -I$(HYPRE_HOME)/src/hypre/include
DEFFLAGS      = -DMPICH_IGNORE_CXX_SEEK -D_PAR # -D_ZOLTAN -D_SCOTCH -D_HYPRE

# Parallel linking flags
PARLFLAGS     = -L$(PARMETIS_LIB_DIR) -L$(METIS_LIB_DIR) # -L$(ZOLTAN_HOME)/BuildDir/src/ -L$(SCOTCH_HOME)/src/libscotch -L$(SCOTCH_HOME)/lib -L$(HYPRE_HOME)/src/hypre/lib

# Libraries
LIB           = -lm -lparmetis -lmetis -fopenmp
ARCH_CXXFLAGS = $(WFLAGS) $(OPTFLAGS) $(INCFLAGS) $(DEFFLAGS)

# Compiler and linking flags
ARCH_LFLAGS = $(PARLFLAGS) $(LIB)
